# QiyasHash Helm Values
# Default values for qiyashash-stack

global:
  imageRegistry: ghcr.io/qiyascc
  imagePullPolicy: Always
  storageClass: standard

# Identity Service
identityService:
  enabled: true
  replicas: 3
  image:
    repository: qiyashash-identity
    tag: latest
  resources:
    requests:
      memory: "256Mi"
      cpu: "100m"
    limits:
      memory: "512Mi"
      cpu: "500m"
  persistence:
    enabled: true
    size: 10Gi
  service:
    type: ClusterIP
    port: 8081

# Encryption Service
encryptionService:
  enabled: true
  replicas: 3
  image:
    repository: qiyashash-encryption
    tag: latest
  resources:
    requests:
      memory: "256Mi"
      cpu: "100m"
    limits:
      memory: "512Mi"
      cpu: "500m"
  persistence:
    enabled: true
    size: 5Gi
  service:
    type: ClusterIP
    port: 8082

# DHT Peer Service
dhtPeer:
  enabled: true
  replicas: 5
  image:
    repository: qiyashash-dht
    tag: latest
  resources:
    requests:
      memory: "512Mi"
      cpu: "200m"
    limits:
      memory: "1Gi"
      cpu: "1000m"
  persistence:
    enabled: true
    size: 50Gi
  service:
    type: LoadBalancer
    ports:
      tcp: 4001
      udp: 4001
  bootstrapNodes: []

# Relay Service
relay:
  enabled: true
  replicas: 3
  image:
    repository: qiyashash-relay
    tag: latest
  resources:
    requests:
      memory: "256Mi"
      cpu: "100m"
    limits:
      memory: "512Mi"
      cpu: "500m"
  persistence:
    enabled: true
    size: 20Gi
  service:
    type: LoadBalancer
    port: 4433
  tls:
    enabled: true
    secretName: relay-tls

# Chain State Service
chainState:
  enabled: true
  replicas: 3
  image:
    repository: qiyashash-chain
    tag: latest
  resources:
    requests:
      memory: "256Mi"
      cpu: "100m"
    limits:
      memory: "512Mi"
      cpu: "500m"
  persistence:
    enabled: true
    size: 10Gi
  service:
    type: ClusterIP
    port: 8083

# Web Client
webClient:
  enabled: true
  replicas: 2
  image:
    repository: qiyashash-web
    tag: latest
  resources:
    requests:
      memory: "64Mi"
      cpu: "50m"
    limits:
      memory: "128Mi"
      cpu: "200m"
  service:
    type: ClusterIP
    port: 80

# Ingress
ingress:
  enabled: true
  className: nginx
  annotations:
    cert-manager.io/cluster-issuer: letsencrypt-prod
  hosts:
    - host: api.qiyashash.dev
      paths:
        - path: /
          pathType: Prefix
    - host: chat.qiyashash.dev
      paths:
        - path: /
          pathType: Prefix
  tls:
    - secretName: qiyashash-tls
      hosts:
        - api.qiyashash.dev
        - chat.qiyashash.dev

# Anonymity (optional)
anonymity:
  tor:
    enabled: false
    image: osminogin/tor-simple:latest
  i2p:
    enabled: false
    image: geti2p/i2p:latest

# Monitoring
monitoring:
  prometheus:
    enabled: true
    serviceMonitor:
      enabled: true
  grafana:
    enabled: false
    dashboards:
      enabled: true

# Logging
logging:
  level: info
  format: json
